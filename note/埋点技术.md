- [1. åŸ‹ç‚¹æ–¹æ¡ˆ](#1-åŸ‹ç‚¹æ–¹æ¡ˆ)
  - [1.1Â  æ•°æ®ç›‘æ§(ç”¨æˆ·åŸ‹ç‚¹)](#11-æ•°æ®ç›‘æ§ç”¨æˆ·åŸ‹ç‚¹)
  - [1.2 æ€§èƒ½ç›‘æ§ Â &Â  å¼‚å¸¸ç›‘æ§](#12-æ€§èƒ½ç›‘æ§--å¼‚å¸¸ç›‘æ§)

# 1. åŸ‹ç‚¹æ–¹æ¡ˆ

é€šå¸¸åŸ‹ç‚¹çš„éœ€æ±‚æ˜¯ä¸ºäº†ç›‘æ§ç³»ç»Ÿä¸€ç³»åˆ—æ•°æ®ï¼ŒåŒ…æ‹¬æ•°æ®ç›‘æ§ã€æ€§èƒ½ç›‘æ§ã€å¼‚å¸¸ç›‘æ§ã€‚
![](../assets/data_grab_flow.png)

## 1.1Â  æ•°æ®ç›‘æ§(ç”¨æˆ·åŸ‹ç‚¹)

è¿™å—ä¸»è¦æ˜¯è·å–ç”¨æˆ·çš„ä¸€äº›è¡Œä¸ºæ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·åœ¨é¡µé¢åœç•™çš„æ—¶é—´ã€è·³å‡ºç‡ã€ç•™å­˜ç‡ã€ç”¨æˆ·ç‚¹å‡»è¡Œä¸ºã€é¡µé¢è·³è½¬è¡Œä¸ºç­‰ã€‚  
ç›®å‰ä¸»è¦çš„åŸ‹ç‚¹æŠ€æœ¯ï¼š_ä»£ç åŸ‹ç‚¹ã€å¯è§†åŒ–åŸ‹ç‚¹ã€æ— åŸ‹ç‚¹_ã€‚

- **ä»£ç åŸ‹ç‚¹**  
  ä»£ç åŸ‹ç‚¹æ˜¯æœ€ç»å…¸åŸ‹ç‚¹æ–¹å¼ï¼Œå®æ–½åŸ‹ç‚¹çš„ç ”å‘å°†åŸ‹ç‚¹ä»£ç ç»“åˆåˆ°ä¸šåŠ¡ä»£ç ä¸­ï¼Œå®ç°ç”¨æˆ·è¡Œä¸ºæ•°æ®çš„é‡‡é›†ã€‚è¿™ç§åŸ‹ç‚¹æ–¹å¼èƒ½é‡‡é›†åˆ°éå¸¸å¤æ‚çš„è¡Œä¸ºï¼Œå°¤å…¶æ˜¯ä¸€äº›éç‚¹å‡»çš„ã€ä¸å¯è§†çš„è¡Œä¸ºï¼Œå¿…é¡»ç”¨ä»£ç åŸ‹ç‚¹æ¥å®ç°ã€‚ä»£ç åŸ‹ç‚¹æŒ‰ç…§ä½ç½®çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸º`å‰ç«¯åŸ‹ç‚¹`ã€`åç«¯åŸ‹ç‚¹`ã€‚å‰ç«¯åŸ‹ç‚¹ç”¨æ¥è®°å½•ç”¨æˆ·åœ¨å®¢æˆ·ç«¯çš„æ“ä½œè¡Œä¸ºï¼Œåç«¯åŸ‹ç‚¹ç”¨æ¥è®°å½•å®¢æˆ·ç«¯è¿›è¡ŒæœåŠ¡å™¨è¯·æ±‚çš„æ—¥å¿—ã€‚

  > å¸‚åœºä¸Šçš„ç¬¬ä¸‰æ–¹æ•°æ®é‡‡é›†å‡æ”¯æŒä»£ç åŸ‹ç‚¹,Â [è¯¸è‘› Â IO]()ã€[GA]()ã€Â [GrowingIO]()ã€[ç¥ç­–]()ã€[ç™¾åº¦ç»Ÿè®¡]()ã€[TalkingData]()Â  ç­‰ã€‚

  > ä¼˜ç‚¹ï¼šä¸ªæ€§åŒ–è‡ªå®šä¹‰ï¼Œèƒ½å¤Ÿæ ¹æ®ä¼ä¸šè‡ªèº«ä¸šåŠ¡ç‰¹æ€§è‡ªå®šä¹‰å±æ€§ã€äº‹ä»¶ï¼Œå®šåˆ¶åŒ–è·å–æ•°æ®.  
  > ç¼ºç‚¹ï¼šæ—¶é—´ã€äººåŠ›æˆæœ¬å¤§ã€‚

  - å‰ç«¯åŸ‹ç‚¹  
     å‰ç«¯åŸ‹ç‚¹èƒ½å¤Ÿæ”¶é›†æ›´å…¨é¢ã€ç²¾ç»†çš„ç”¨æˆ·æ•°æ®ï¼Œå°¤å…¶æ˜¯ä¸éœ€è¦è¯·æ±‚æœåŠ¡å™¨çš„è¡Œä¸ºæ•°æ®ï¼Œå¦‚ï¼šé¡µé¢åœç•™æ—¶é•¿ã€é¡µé¢æµè§ˆæ·±åº¦ã€è§†é¢‘æ’­æ”¾æ—¶é•¿ã€ç”¨æˆ·é¼ æ ‡è½¨è¿¹ã€è¡¨å•é¡¹åœç•™åŠç»ˆæ­¢ç­‰ç­‰ï¼Œåªèƒ½é€šè¿‡å‰ç«¯åŸ‹ç‚¹å®ç°ã€‚ä¸è¿‡å‰ç«¯åŸ‹ç‚¹çš„ä¸ŠæŠ¥ä¸€èˆ¬å­˜åœ¨ 15% å·¦å³çš„å»¶è¿Ÿä¸ŠæŠ¥å’Œæ¼æŠ¥ï¼ˆå®¢æˆ·ç«¯æœªè”ç½‘ã€æ•°æ®æ‰“åŒ…ä¸ŠæŠ¥ã€ç”¨æˆ·åˆ é™¤è¡Œä¸ºæ•°æ®ç­‰åŸå› ï¼‰

    åœ¨åº”ç”¨æˆ–ç•Œé¢åˆå§‹åŒ–æ—¶ï¼Œåˆå§‹åŒ–åŸ‹ç‚¹ SDKï¼Œåœ¨è§¦å‘æŸä¸ªèŠ‚ç‚¹(å¦‚äº‹ä»¶/é¡µé¢)æ—¶è°ƒç”¨ Â SDKÂ  ç›¸åº”çš„æ–¹æ³•ï¼Œé€šè¿‡æ¥å£å‘é€æ•°æ®ã€‚
    å‰ç«¯ä»£ç åŸ‹ç‚¹åœ¨å…·ä½“å®æ–½ä¸­å¯ä»¥åˆ†ä¸º`å‘½ä»¤å¼åŸ‹ç‚¹`å’Œ`å£°æ˜å¼åŸ‹ç‚¹`ã€‚

    (1)å‘½ä»¤å¼åŸ‹ç‚¹

    ```js
    const handleClickBye = () => {
      //....ä¸šåŠ¡ä»£ç  //é‡‡é›†åŸ‹ç‚¹æ•°æ®
      GrabAgent.click(...data);
    };
    //è£…è½½é¡µé¢æ—¶
    useMount(() => {
      GrabAgent.onResume(...data);
    });
    //å¸è½½é¡µé¢æ—¶
    useUnmount(() => {
      GrabAgent.onPause(...data);
    });
    ```

    è¿™ç§æ–¹å¼é€šå¸¸ä¼šå¯¹ä»£ç é€ æˆä¸€å®šçš„ä¾µå…¥æ€§ã€‚

    (2ï¼‰å£°æ˜å¼åŸ‹ç‚¹  
     é€šè¿‡åœ¨ dom èŠ‚ç‚¹ä¸Šå£°æ˜`data-{}`æ–¹å¼ï¼Œé€šè¿‡è„±è€¦çš„æ–¹å¼éå†æ‰€æœ‰å£°æ˜è¿‡å¾— dom èŠ‚ç‚¹å¹¶ç»‘å®šä¸Šäº‹ä»¶ï¼Œéœ€è¦ä¸ŠæŠ¥çš„æ•°æ®éƒ½æ”¾åœ¨`data-{}`é‡Œï¼Œä¾‹å¦‚å¦‚æœæ˜¯åœ¨ Vue é¡¹ç›®ä¸­å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤çš„æ–¹å¼ã€‚

    ```js
    <buttonÂ v-focus="{type:"click",key:"shop"}"Â @click=â€handleShopâ€>è´­ä¹°</button>
    ```

    ```js
      Â Â Â Â directives:{
      Â Â Â Â Â Â focus:{
      Â Â Â Â Â Â Â Â bind:function(el,binding,vnode){
      Â Â Â Â Â Â Â Â Â Â el.addEventListener('click',()=>{
      Â Â Â Â Â Â Â Â Â Â Â Â GrabAgent.send(binding.value)
      Â Â Â Â Â Â Â Â Â Â })
      Â Â Â Â Â Â Â Â }
      Â Â Â Â Â Â }
      Â Â Â Â }
    ```

  - åç«¯åŸ‹ç‚¹  
    ç›¸æ¯”äºå‰ç«¯åŸ‹ç‚¹ï¼Œèƒ½å®æ—¶é‡‡é›†æ•°æ®ï¼Œä¸å­˜åœ¨å»¶æ—¶ä¸ŠæŠ¥ï¼Œæ•°æ®å¾ˆå‡†ç¡®ï¼›å¹¶ä¸”ï¼ŒæœåŠ¡ç«¯åŸ‹ç‚¹æ”¯æŒä¸ç”¨æˆ·èº«ä»½ä¿¡æ¯å’Œè¡Œä¸ºé™„å¸¦å±æ€§ä¿¡æ¯æ•´åˆï¼›

- **å¯è§†åŒ–åŸ‹ç‚¹**  
  å¯è§†åŒ–å…¨åŸ‹ç‚¹ï¼Œæ˜¯æŒ‡ç”¨æˆ·å°†è®¾å¤‡è¿æ¥åˆ°ç”¨æˆ·è¡Œä¸ºåˆ†æç³»ç»Ÿçš„å¯è§†åŒ–å…¨åŸ‹ç‚¹ç®¡ç†ç•Œé¢ï¼Œå¯¹å¯äº¤äº’çš„å›¾ç‰‡ã€æŒ‰é’®ç­‰é¡µé¢å…ƒç´ ï¼Œç›´æ¥åœ¨ç•Œé¢ä¸Šè¿›è¡Œæ“ä½œå®ç°æ•°æ®åŸ‹ç‚¹ã€‚ä¾‹å¦‚[è¯¸è‘› io](https://zhugeio.com)

  å¯è§†åŒ–å…¨åŸ‹ç‚¹ä¹Ÿåªæ˜¯é’ˆå¯¹ç‚¹å‡»å¯è§å…ƒç´ çš„ï¼Œä¸€äº›åŠ¨æ€é¡µé¢ã€ä¸å¯è§çš„è¡Œä¸ºæ˜¯é‡‡é›†ä¸åˆ°çš„ï¼›å…¶æ¬¡ï¼Œå¯è§†åŒ–å…¨åŸ‹ç‚¹æ— æ³•æ·»åŠ è‡ªå®šä¹‰å±æ€§ï¼Œæ— æ³•å’Œä¸šåŠ¡å…³è”ï¼›ç¬¬ä¸‰ï¼Œå¯è§†åŒ–å…¨åŸ‹ç‚¹å…ƒç´ åªèƒ½å¯¹å¯é€‰å…ƒç´ é€ä¸ªè¿›è¡Œé€‰æ‹©åŸ‹ç‚¹ï¼Œæ“ä½œæ•ˆç‡è¾ƒä½ã€‚

  > ğŸ‘‰ [è¯¸è‘› io å¯è§†åŒ–é…ç½®æŒ‡å—](https://docs.zhugeio.com/dev/js_visual_event.html)

- **æ— åŸ‹ç‚¹**  
  æ— åŸ‹ç‚¹ï¼Œä¹Ÿå«å…¨åŸ‹ç‚¹ã€æ— ç åŸ‹ç‚¹ã€è‡ªåŠ¨åŸ‹ç‚¹ã€‚æ— åŸ‹ç‚¹æ˜¯æŒ‡é¢„å…ˆæ”¶é›†ç”¨æˆ·çš„æ‰€æœ‰è¡Œä¸ºæ•°æ®ï¼Œç„¶åå†æ ¹æ®å®é™…åˆ†æéœ€æ±‚ä»ä¸­æå–è¡Œä¸ºæ•°æ®ã€‚ä¸€èˆ¬ç”¨æ¥åšç²—ç²’åº¦çš„å¿«é€Ÿä¸šåŠ¡æ¢ç´¢ã€‚

  æ— åŸ‹ç‚¹åªèƒ½è¦†ç›–åŸºæœ¬çš„ç‚¹å‡»ã€å±•ç¤ºç­‰ç”¨æˆ·è¡Œä¸ºï¼Œå…¶æ¬¡ï¼Œå…¨åŸ‹ç‚¹é‡‡é›†çš„æ•°æ®é‡éå¸¸å¤§ï¼Œéšç€æ•°æ®é‡ä¸Šå‡ï¼Œå¯èƒ½ä¼šå¯¼è‡´å®¢æˆ·ç«¯å´©æºƒçš„æ¦‚ç‡ä¹Ÿä¼šä¸Šå‡ã€‚

  > ğŸ‘‰ [è¯¸è‘› io æ— åŸ‹ç‚¹é…ç½®æŒ‡å—](https://docs.zhugeio.com/dev/fullburial.html)

---

_**å½“å‰æµè¡Œçš„ç¬¬ä¸‰æ–¹æ•°æ®äº§å“**_

| äº§å“              | ä½“éªŒ                                                                                                       |
| ----------------- | ---------------------------------------------------------------------------------------------------------- |
| Umeng             | é˜¿é‡Œæ——ä¸‹çš„æ•°æ®åˆ†æäº§å“ï¼Œé€šç”¨æ€§åŠŸèƒ½å‡æœ‰è¦†ç›–ï¼Œåœ¨éƒ¨åˆ†ç‰¹å®šé¡µé¢ä¸Šæœ‰ç¼ºå¤±ï¼Œå®šåˆ¶åŒ–å¼±ï¼Œé€‚åˆåˆåˆ›èµ·æ­¥çš„ä¼ä¸šåº”ç”¨       |
| Â GoogleÂ Analytics | ä½“éªŒè¾ƒå¥½ï¼Œå¯¹ä¸ªäººç½‘é¡µã€åº”ç”¨æ‰€éœ€çš„æ•°æ®åŸ‹ç‚¹éƒ½èƒ½æ»¡è¶³ï¼Œå¯¹æ•°æ®ç»“æœå±•ç¤ºè¾ƒä¸ºå‹å¥½                                   |
| ç¥ç­–æ•°æ®          | å¯æ ¹æ®ä¼ä¸šéƒ¨ç½²ç‰¹å®šæœåŠ¡å™¨ï¼Œé’ˆå¯¹ä¸ªæ€§åŒ–å®šåˆ¶ï¼Œå¹¶ä¸”æœ‰å¯¹åº”ä¸šåŠ¡å‘˜ã€å¼€å‘å·¥ç¨‹å¸ˆè¿›è¡Œä¼ä¸šä¸€å¯¹ä¸€å¯¹æ¥ï¼ŒæœåŠ¡ä½“éªŒè¾ƒä¸ºè‰¯å¥½ |
| è¯¸è‘› io           | å›½å†…é¢†å…ˆã€å…ˆè¡Œçš„æ•°æ®åˆ†æå…¬å¸ï¼Œ2013 å¹´æ˜¯å›½å†…é¦–å®¶æœ€æ—©æ¨å‡ºæ— åŸ‹ç‚¹æ–¹æ¡ˆ                                          |

---

## 1.2 æ€§èƒ½ç›‘æ§ Â &Â  å¼‚å¸¸ç›‘æ§

**ğŸš— æ€§èƒ½ç›‘æ§**  
 ä¸»è¦è·å–ç³»ç»Ÿçš„æ€§èƒ½å‚æ•°æŒ‡æ ‡ã€‚ç›®å‰æ€§èƒ½æŒ‡æ ‡æ•°æ®å¤§éƒ¨åˆ†æ¥æºäº Â [window.performanceÂ API](https://www.w3.org/TR/navigation-timing/) è¯¥ API æä¾›äº†å¦‚ä¸‹æ¥å£å®šä¹‰çš„æ•°æ®ã€‚

```ts
interface Performance {
  readonly attribute PerformanceTiming timing;
  readonly attribute PerformanceNavigation navigation;
};

//The PerformanceNavigation inteface
interface PerformanceNavigation {
  const unsigned short TYPE_NAVIGATE = 0; //å¯¼èˆªå¼€å§‹äºç‚¹å‡»é“¾æ¥ã€æˆ–è€…åœ¨ç”¨æˆ·ä»£ç†ä¸­è¾“å…¥ URLã€æˆ–è€…è¡¨å•æäº¤
  const unsigned short TYPE_RELOAD = 1; //é€šè¿‡åˆ·æ–°æ“ä½œæˆ–è€… location.reload() æ–¹æ³•å¯¼èˆªã€‚
  const unsigned short TYPE_BACK_FORWARD = 2; //é€šè¿‡å†å²éå†æ“ä½œå¯¼èˆªã€‚
  const unsigned short TYPE_RESERVED = 255; //å…¶ä»–éä»¥ä¸Šç±»å‹çš„å¯¼èˆªã€‚
  readonly attribute unsigned short type;
  readonly attribute unsigned short redirectCount;
};
//The PerformanceTiming interface
interface PerformanceTiming {
 readonly attribute unsigned long long navigationStart;
 readonly attribute unsigned long long unloadEventStart;
 readonly attribute unsigned long long unloadEventEnd;
 readonly attribute unsigned long long redirectStart;
 readonly attribute unsigned long long redirectEnd;
 readonly attribute unsigned long long fetchStart;
 readonly attribute unsigned long long domainLookupStart;
 readonly attribute unsigned long long domainLookupEnd;
 readonly attribute unsigned long long connectStart;
 readonly attribute unsigned long long connectEnd;
 readonly attribute unsigned long long secureConnectionStart;
 readonly attribute unsigned long long requestStart;
 readonly attribute unsigned long long responseStart;
 readonly attribute unsigned long long responseEnd;
 readonly attribute unsigned long long domLoading;
 readonly attribute unsigned long long domInteractive;
 readonly attribute unsigned long long domContentLoadedEventStart;
 readonly attribute unsigned long long domContentLoadedEventEnd;
 readonly attribute unsigned long long domComplete;
 readonly attribute unsigned long long loadEventStart;
 readonly attribute unsigned long long loadEventEnd;
};
```

![](https://www.w3.org/TR/navigation-timing/timing-overview.png)
`æ³¨æ„: `é€šè¿‡ window.performance.timing æ‰€è·çš„çš„é¡µé¢æ¸²æŸ“æ‰€ç›¸å…³çš„æ•°æ®ï¼Œåœ¨ SPA åº”ç”¨ä¸­æ”¹å˜äº† url ä½†ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹æ˜¯ä¸ä¼šæ›´æ–°çš„ã€‚å› æ­¤ä»…ä»…é€šè¿‡è¯¥ api æ˜¯æ— æ³•è·å¾—æ¯ä¸€ä¸ªå­è·¯ç”±æ‰€å¯¹åº”çš„é¡µé¢æ¸²æŸ“çš„æ—¶é—´ã€‚å¦‚æœéœ€è¦ä¸ŠæŠ¥åˆ‡æ¢è·¯ç”±æƒ…å†µä¸‹æ¯ä¸€ä¸ªå­é¡µé¢é‡æ–° render çš„æ—¶é—´ï¼Œéœ€è¦è‡ªå®šä¹‰ä¸ŠæŠ¥ã€‚

**âš ï¸ å¼‚å¸¸ç›‘æ§**  
 å‰ç«¯å¼‚å¸¸æ˜¯æŒ‡åœ¨ç”¨æˆ·ä½¿ç”¨Webåº”ç”¨æ—¶æ— æ³•å¿«é€Ÿå¾—åˆ°ç¬¦åˆé¢„æœŸç»“æœçš„æƒ…å†µï¼Œä¸åŒçš„å¼‚å¸¸å¸¦æ¥çš„åæœç¨‹åº¦ä¸åŒï¼Œè½»åˆ™å¼•èµ·ç”¨æˆ·ä½¿ç”¨ä¸æ‚¦ï¼Œé‡åˆ™å¯¼è‡´äº§å“æ— æ³•ä½¿ç”¨ï¼Œä½¿ç”¨æˆ·ä¸§å¤±å¯¹äº§å“çš„è®¤å¯ã€‚
 ä¸»è¦æ”¶é›†ç³»ç»Ÿçš„å‡ºé”™çš„ä¿¡æ¯ï¼Œæ–¹ä¾¿å¼€å‘å¿«é€Ÿå®šä½è¿›è¡Œ Â hotfixã€‚å¦‚æœé‡‡ç”¨è‡ªè¡Œå¼€å‘åŸ‹ç‚¹ï¼Œåˆ™å¯ä»¥åˆ©ç”¨ä»¥ä¸‹æ–¹æ³•è¿›è¡Œæ•è·å¼‚å¸¸ï¼Œå¹¶å°†å…¶ä¸ŠæŠ¥ã€‚

```Â js
tryÂ catch
window.onerror
window.addEventListener('error'ï¼Œ()Â =>Â {})
window.addEventListener('unhandledrejection'()Â =>Â {})
```

ç›®å‰ä¸»æµçš„å‰ç«¯ç›‘æ§ç³»ç»Ÿä¸»è¦æœ‰ Â [é˜¿é‡Œ Â ARMS](https://www.aliyun.com/product/arms)Â ã€[FUNdebug](https://www.fundebug.com/)ã€[Sentry](https://sentry.io/welcome/)Â  ç­‰ï¼Œé¡¹ç›®åˆæœŸåœ¨å¼‚å¸¸ç›‘æ§è¿™ä¸€å—å¯ä»¥é‡‡ç”¨ Â SentryÂ  è¿›è¡Œæ”¯æŒã€‚

---

**ğŸ‘‰ é‡‡ç”¨ Sentry è¿›è¡Œæ€§èƒ½ç›‘æ§å’Œå¼‚å¸¸ç›‘æ§**

> [Sentry](https://sentry.io/welcome/)Â  æ˜¯ä¸€ä¸ªå¼€æºçš„å®æ—¶é”™è¯¯è¿½è¸ªç³»ç»Ÿï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å®æ—¶ç›‘æ§å¹¶ä¿®å¤å¼‚å¸¸é—®é¢˜ã€‚å®ƒä¸»è¦ä¸“æ³¨äºæŒç»­é›†æˆã€æé«˜æ•ˆç‡å¹¶ä¸”æå‡ç”¨æˆ·ä½“éªŒã€‚
> Â **Sentry**Â  åˆ†ä¸ºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ Â SDKï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å…¶æä¾›çš„åœ¨çº¿æœåŠ¡ï¼Œä¹Ÿå¯ä»¥æœ¬åœ°è‡ªè¡Œæ­å»ºï¼›æä¾›äº†å¯¹å¤šç§ä¸»æµè¯­è¨€å’Œæ¡†æ¶çš„æ”¯æŒï¼ŒåŒ…æ‹¬ Â Reactã€Angularã€Nodeã€Djangoã€RoRã€PHPã€Laravelã€Androidã€.Â NETã€JAVAÂ  ç­‰ã€‚åŒæ—¶å®ƒå¯æä¾›äº†å’Œå…¶ä»–æµè¡ŒæœåŠ¡é›†æˆçš„æ–¹æ¡ˆï¼Œä¾‹å¦‚ Â GitHubã€GitLabã€bitbuckã€herokuã€slackã€TrelloÂ  ç­‰ã€‚
> **åœ¨ Â ReactÂ  é¡¹ç›®ä¸­é…ç½® Â Sentry** >

- å®‰è£… Â Sentry

```Â bash
yarnÂ addÂ @sentry/react
yarnÂ addÂ @sentry/reactÂ @sentry/tracing
```

- åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶åˆå§‹åŒ–

```ts
importÂ ReactÂ fromÂ "react";
importÂ ReactDOMÂ fromÂ "react-dom";
importÂ *Â asÂ SentryÂ fromÂ "@sentry/react";
importÂ AppÂ fromÂ "./App";
Sentry.init({
Â Â Â Â dsn:Â "https://{key}@sentry.io/{project}",
Â Â Â Â release:Â "my-project-name@"Â +Â process.env.npm_package_version,
Â Â Â Â integrations:Â [newÂ Integrations.BrowserTracing()],
Â Â Â Â //Â WeÂ recommendÂ adjustingÂ thisÂ valueÂ inÂ production,Â orÂ usingÂ tracesSampler
Â Â Â Â //Â forÂ finerÂ control
Â Â Â Â tracesSampleRate:Â 1.0,
});
ReactDOM.render(Â <Â AppÂ /Â >Â ,Â document.getElementById("root"));
```

**å…¶ä»–å¸¸ç”¨é«˜çº§ä½¿ç”¨æ–¹æ³•**

1. ä¸»åŠ¨æ•è·å¹¶ä¸ŠæŠ¥é”™è¯¯  
   æœ‰æ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦è‡ªå·±å»ä¸»åŠ¨å»è§¦å‘ä¸€äº›é”™è¯¯ä¸ŠæŠ¥ï¼Œæ¯”å¦‚ä¸€äº›ç‰¹å®šæ“ä½œã€æŸäº›å·²ç»è¢«å¼ƒç”¨çš„æ¥å£è¢«è°ƒç”¨äº†ã€æ•è·ä¸€äº›çº¿ä¸Šè¿è¡Œæ•°æ®å»æ’æŸ¥é—®é¢˜ã€‚å¯ä»¥åˆ©ç”¨ Sentry æä¾›è¿‡çš„ captureException æˆ–è€… captureMessage å»ä¸ŠæŠ¥é”™è¯¯æˆ–è€…æ–‡æœ¬ä¿¡æ¯ã€‚

2. ä¸°å¯Œä¸ŠæŠ¥æ•°æ®ä¸Šä¸‹æ–‡  
   é™¤äº† user ç”¨æˆ·ä¿¡æ¯ï¼Œè¿˜å¯ä»¥æœ‰ tagsã€levelã€fingerprintã€extra dataã€‚
   æ¯”å¦‚æ·»åŠ ä¸€äº› tagsï¼Œå¯ä»¥ä½¿ç”¨ scope.setTags(å‰ç«¯ï¼Œä¸åŒè¯­è¨€è¯­æ³•ä¸ä¸€æ ·ï¼Œå¦‚ Django ä¸º sentry_sdk.set_context) å¯ä»¥ç»™äº‹ä»¶å®šä¹‰ä¸åŒçš„é”®/å€¼å¯¹ã€‚åœ¨åå°æŸ¥æ‰¾çš„æ—¶å€™ï¼Œç­›é€‰æ¡ä»¶é€‰é¡¹ä¼šå¤šå‡ºæ¥ä¸€äº›é€‰é¡¹ï¼Œå°±æ˜¯é€šè¿‡ setTags æ¥è®¾ç½®çš„è¿™äº›é”®å€¼å¯¹ã€‚
